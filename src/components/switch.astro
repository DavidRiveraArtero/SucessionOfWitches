---
import moon from './moon.svg'
import { Image } from 'astro:assets';
---

<div class="flex border-2 border-black rounded-full  p-3 flex-row space-x-24 shadow-md shadow-black">
    
    <button id="themeToggle_Sun" class="flex flex-col items-center justify-center" >
        <div id="switch" class="w-[45px] h-[45px] rounded-full border-2 border-black absolute bg-slate-500"/>
        <svg class="z-10" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0 0 48 48">
            <circle cx="24" cy="24" r="16" fill="#f2ca00"></circle><path fill="#324561" d="M24,6c-0.553,0-1-0.447-1-1V1c0-0.553,0.447-1,1-1s1,0.447,1,1v4C25,5.553,24.553,6,24,6z"></path><path fill="#324561" d="M5,25H1c-0.553,0-1-0.447-1-1s0.447-1,1-1h4c0.553,0,1,0.447,1,1S5.553,25,5,25z"></path><path fill="#324561" d="M7.736,41.264c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l2.829-2.829	c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-2.829,2.829C8.248,41.166,7.992,41.264,7.736,41.264z"></path><path fill="#324561" d="M10.565,11.565c-0.256,0-0.512-0.098-0.707-0.293L7.029,8.443c-0.391-0.391-0.391-1.023,0-1.414	s1.023-0.391,1.414,0l2.829,2.829c0.391,0.391,0.391,1.023,0,1.414C11.077,11.468,10.821,11.565,10.565,11.565z"></path><path fill="#324561" d="M37.435,11.565c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l2.829-2.829	c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-2.829,2.829C37.946,11.468,37.69,11.565,37.435,11.565z"></path><path fill="#324561" d="M47,25h-4c-0.553,0-1-0.447-1-1s0.447-1,1-1h4c0.553,0,1,0.447,1,1S47.553,25,47,25z"></path><path fill="#324561" d="M40.264,41.264c-0.256,0-0.512-0.098-0.707-0.293l-2.829-2.829c-0.391-0.391-0.391-1.023,0-1.414	s1.023-0.391,1.414,0l2.829,2.829c0.391,0.391,0.391,1.023,0,1.414C40.775,41.166,40.52,41.264,40.264,41.264z"></path><path fill="#324561" d="M24,48c-0.553,0-1-0.447-1-1v-4c0-0.553,0.447-1,1-1s1,0.447,1,1v4C25,47.553,24.553,48,24,48z"></path>
        </svg>
    </button>
    <button id="themeToggle_Moon" class="flex flex-col items-center justify-center ">
        <Image class='z-10' src={moon} alt='moon'></Image>
    </button>

</div>


<style>
    #switch{
        transform: translateX(130px);
    }
    .changeSwitchToDark{
        animation-duration: .5s;
        animation-fill-mode: forwards;
        animation-name: switch_to_Dark;
    }
    .changeSwitchToLight{
        animation-duration: .5s;
        animation-fill-mode: forwards;
        animation-name: switch_to_Light;
    }

    @keyframes switch_to_Dark{
        from{
            transform: translateX(0);
        }
        to{
            transform: translateX(130px);
        }
    }

    @keyframes switch_to_Light{
        from{
            transform: translateX(130px);
        }
        to{
            transform: translateX(0);
        }
    }

</style>

<script is:inline>
   const element = document.documentElement;
   
   
    const moonOption = () => {
        
        if(element.classList.value == "dark") return
        element.classList.toggle("dark");
        switch_Animation.classList.remove("changeSwitchToLight")
        switch_Animation.classList.toggle("changeSwitchToDark")
           for(var x = 0;x<title.length;x++){
            title[x].classList.remove("ventoGridDark")
            title[x].classList.add("ventoGridLight")
        }
    }

    const sunOption = () => {
        
        if(element.classList.value == "") return

        element.classList.toggle("dark");
        switch_Animation.classList.remove("changeSwitchToDark")
        switch_Animation.classList.toggle("changeSwitchToLight")
        for(var x = 0;x<title.length;x++){
            title[x].classList.remove("ventoGridLight")
            title[x].classList.toggle("ventoGridDark")
        }

    }
  
    document.getElementById("themeToggle_Moon").addEventListener("click", moonOption);
    document.getElementById("themeToggle_Sun").addEventListener("click", sunOption);
    const switch_Animation = document.getElementById("switch")
    const title = document.getElementsByTagName("section")

  </script>